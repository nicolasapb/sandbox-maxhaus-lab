<mat-card>
    <mat-card-header>
        <mat-card-title>{{title}}</mat-card-title>
    </mat-card-header>

    <mat-divider></mat-divider>

    <mat-card-content class="mt-3">

        <div>
            <mat-progress-bar 
                class="mb-3"
                [color]="setColor()"
                [value]="singleInstallment[0].totalPct">
            </mat-progress-bar>
        </div>

        <table mat-table #table [dataSource]="singleInstallment" class="table-fit table-hover mat-thead-dark">
        <ng-container matColumnDef="total">
            <th mat-header-cell *matHeaderCellDef> Total </th>
            <td mat-cell *matCellDef="let row"> {{row.total | number:'0.2-2':'pt' }} </td>
        </ng-container>
        <ng-container matColumnDef="needs">
            <th mat-header-cell *matHeaderCellDef> Falta </th>
            <td mat-cell *matCellDef="let row"> {{row.needs | number:'0.2-2':'pt' }} </td>
        </ng-container>
        <ng-container matColumnDef="totalPct">
            <th mat-header-cell *matHeaderCellDef> % total </th>
            <td mat-cell *matCellDef="let row"> {{row.totalPct | number:'0.2-2':'pt' }} </td>
        </ng-container>
        <ng-container matColumnDef="needsPct">
            <th mat-header-cell *matHeaderCellDef> % falta </th>
            <td mat-cell *matCellDef="let row"> {{row.needsPct | number:'0.2-2':'pt' }} </td>
        </ng-container>
        <ng-container matColumnDef="target">
            <th mat-header-cell *matHeaderCellDef> Meta </th>
            <td mat-cell *matCellDef="let row"> {{row.target | number:'0.2-2':'pt' }} </td>
        </ng-container>

            <tr mat-header-row *matHeaderRowDef="cols"></tr>
            <tr mat-row *matRowDef="let row; columns: cols;"></tr>
        </table>

        <div class="text-right mt-3">
            <button 
                class="btn btn-sm btn-warning" 
                [routerLink]="route">
                <fa-icon [icon]="faPlus"></fa-icon>&nbsp;{{ buttonText }}
            </button>
        </div>
    </mat-card-content>
</mat-card>
